<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  //原始写法
  // new Promise((resolve, reject) => {
  //   setTimeout(() => {
  //     resolve("aaa")
  //   }, 1000)
  // }).then((res) => {
  //   console.log(res, "第一层的10行处理函数")
  //   return new Promise((resolve) => {
  //     resolve(res + "111")
  //   })
  // }).then((res) => {
  //   console.log(res, "第二层的10行处理函数")
  //   return new Promise((resolve) => {
  //     resolve(res + "222")
  //   })
  // }).then((res) => {
  //   console.log(res, "第三层的10行处理函数")
  // })

  //简写 1
  new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve("aaa")
    }, 1000)
  }).then((res) => {
    console.log(res, "第一层的10行处理函数")
    // return Promise.resolve(res + "111")
    return Promise.reject("err message")
  }).then((res) => {
    console.log(res, "第二层的10行处理函数")
    return Promise.resolve(res + "222")
  }).then((res) => {
    console.log(res, "第三层的10行处理函数")
  }).catch((err) => {
    console.log(err)
  })

  // 最终简写方式
  // new Promise((resolve) => {
  //   setTimeout(() => {
  //     resolve("aaa")
  //   }, 1000)
  // }).then((res) => {
  //   console.log(res, "第一层的10行处理函数")
  //   return res + "bbb"
  // }).then((res) => {
  //   console.log(res, "第二层的10行处理函数")
  //   return res + "ccc"
  // }).then((res) => {
  //   console.log(res, "第三层的10行处理函数")
  // })
</script>
</body>
</html>